---
title: "4-creating unique id and numbered column"
output: html_notebook
---

```{r}
making_uniqueID <- function(country){
  #Combines idnum and idnum_14 with "/" and then makes unique id
  country <- mutate(country,
                    idnum = ifelse(idnum_14 == '',
                                   idnum,
                                   paste(idnum,idnum_14,sep = "/")))
  
  mutate(country,
         unique_id = paste(
           paste(
             toupper(substr(pais, 1, 3)),
             substr(year, 3, 4), sep = ''),
           idnum, sep = "_"))
}

extra_id <- function(country) {
  i <- 1
  #Object column is the length of idnum column
  column <- length(country$idnum)
  #Repeats NA for length column
  number_for_dupID <- rep(NA, column)
  #Loop that adds row number
  while(i <= column){
    number_for_dupID[i] <- i
    i <- i + 1
  }
  number_for_dupID
}

full_id <- function(country){
  country <- making_uniqueID(country)
  extra_id <- extra_id(country)
  #Makes extra column, numbered by row
  country <- country %>%
    mutate(extra_id)
  country
}
  
countries <- list(argentina,belize, bolivia, brazil, canada, chile, colombia, costa, ecuador, elsalvador, guatemala, honduras, mexico, nicaragua, panama, peru, suriname, usa, uruguay, venezuela)
#Removed Guyan and Jamaica 6/27
  

argentina <- full_id(argentina)
belize <- full_id(belize)
bolivia <- full_id(bolivia)
brazil <- full_id(brazil)
canada <- full_id(canada)
chile <- full_id(chile)
colombia <- full_id(colombia)
costa <- full_id(costa)
ecuador <- full_id(ecuador)
elsalvador <- full_id(elsalvador)
guatemala <- full_id(guatemala)
#guyana <- full_id(guyana)
honduras <- full_id(honduras)
#jamaica <- full_id(jamaica)
mexico <- full_id(mexico)
nicaragua <- full_id(nicaragua)
panama <- full_id(panama)
paraguay <- full_id(paraguay)
peru <- full_id(peru)
suriname <- full_id(suriname)
usa <- full_id(usa)
uruguay <- full_id(uruguay)
venezuela <- full_id(venezuela)
```


